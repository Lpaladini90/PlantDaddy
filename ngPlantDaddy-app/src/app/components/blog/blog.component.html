<body>


<div class = "container">
  <div><p>search</p>
  <input type="text" id="search" [(ngModel)] ="searchValue"/></div>




  <table class="table" *ngIf="!selected">
    <tbody>

     <tr class = "table-row" *ngFor="let blog of blogs | searchfilter:searchValue" >
       <div class="blogCard">

        <td> <img [src]="blog.imageUrl" height="300px"> </td>

        <td>
        <ul>
          <li (click)="displayBlog(blog)"><h4>{{blog.title}}</h4></li>
          <li (click)="displayBlog(blog)">{{blog.content}}</li>
    </ul>
  </td>
    </div>
  </tr>
</tbody>
</table>
</div>

<div *ngIf="selected && !editBlog">

  <img [src]="selected.imageUrl">
  <p>{{selected.title}}</p>
  <p>{{selected.content}}</p>

  <button (click)="displayTable()">Back</button>

  <div *ngIf="currentUserId === 1">
    <button (click)="setEditBlog()">Edit</button></div>
</div>

<!--------- Edit Blog form ------------------------------------------------------------------------------------ -->

<section>
  <div *ngIf="editBlog">
    <form>
      Title: <input type="text" name="title" [(ngModel)]="editBlog.title">
      Content: <input type="text" name="content" [(ngModel)]="editBlog.content">
      Image Url: <input type="text" name="imageUrl" [(ngModel)]="editBlog.imageUrl">

      <button (click)="updateBlog(editBlog, editBlog.id); editBlog = null">Save</button>
      <button (click)="editBlog = null">Cancel</button>

    </form>
  </div>
</section>
</body>

<!------------------- NEW BLOG ------------------------------------------ -->

<div *ngIf="!isNumber(currentUserId)">


  <div *ngIf="currentUserId === 1">
    <button (click)="displayAddForm = true">Add A Blog Post </button>
  </div>
</div>

<div *ngIf="!selected && displayAddForm == true">

  <form class="addForm" name="addForm" *ngIf="!isNumber(currentUserId)">

  Title <input type="text" name="title" class="form-control" [(ngModel)]="newBlog.title">
  <br>
  Content <input type="text" name="content" class="form-control" [(ngModel)]="newBlog.content">
  <br>
  Image Url  <input type="text" name="imageUrl" class="form-control" [(ngModel)]="newBlog.imageUrl">
  <br>
  <input type="submit" name="submit" value="addBlog" (click)="addBlog(newBlog); displayAddForm = false">

  <input type="submit" name="submit" value="Cancel" (click)="displayAddForm = false">
  </form>
  </div>
